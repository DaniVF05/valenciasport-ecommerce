<!DOCTYPE html>
<html lang="es">
<head>
Â  Â  <meta charset="UTF-8">
Â  Â  <meta name="viewport" content="width=device-width, initial-scale=1.0">
Â  Â  <title>ValenciaSport - E-Commerce</title>
    
    <link rel="icon" type="image/png" href="/favicon.png"> 
    
Â  Â  <script src="https://cdn.tailwindcss.com"></script>
Â  Â  <script src="https://cdn.jsdelivr.net/npm/@supabase/supabase-js@2"></script>
Â  Â  
Â  Â  <style>
Â  Â  Â  Â  * { margin: 0; padding: 0; box-sizing: border-box; }
Â  Â  Â  Â  body { background: #f5f5f5; font-family: system-ui, -apple-system, sans-serif; }
Â  Â  Â  Â  .container { max-width: 1200px; margin: 0 auto; padding: 20px; }
Â  Â  Â  Â  .header { background: white; padding: 20px; margin-bottom: 20px; box-shadow: 0 2px 4px rgba(0,0,0,0.1); }
Â  Â  Â  Â  .product-grid { display: grid; grid-template-columns: repeat(auto-fill, minmax(250px, 1fr)); gap: 20px; }
Â  Â  Â  Â  .product-card { background: white; padding: 15px; border-radius: 8px; box-shadow: 0 2px 4px rgba(0,0,0,0.1); }
Â  Â  Â  Â  .product-card img { width: 100%; height: 200px; object-fit: cover; border-radius: 4px; }
Â  Â  Â  Â  .btn { padding: 10px 20px; border: none; border-radius: 4px; cursor: pointer; font-weight: 600; }
Â  Â  Â  Â  .btn-primary { background: #ff5722; color: white; }
Â  Â  Â  Â  .btn-primary:hover { background: #e64a19; }
Â  Â  Â  Â  .cart { position: fixed; right: 0; top: 0; width: 400px; height: 100vh; background: white; box-shadow: -2px 0 8px rgba(0,0,0,0.2); transform: translateX(100%); transition: transform 0.3s; z-index: 1000; }
Â  Â  Â  Â  .cart.open { transform: translateX(0); }
Â  Â  Â  Â  .overlay { position: fixed; inset: 0; background: rgba(0,0,0,0.5); display: none; z-index: 999; }
Â  Â  Â  Â  .overlay.show { display: block; }
Â  Â  Â  Â  
Â  Â  Â  Â  .category-nav-item { padding: 8px 16px; margin: 0 5px; border-radius: 20px; cursor: pointer; transition: background 0.2s, color 0.2s; font-weight: 500; color: #555; }
Â  Â  Â  Â  .category-nav-item.active { background: #ff5722; color: white; font-weight: 600; }
Â  Â  Â  Â  .category-nav-item:hover { background: #ffe0b2; }
Â  Â  </style>
</head>
<body>
Â  Â  <div class="overlay" id="overlay" onclick="cerrarCarrito()"></div>
Â  Â  
Â  Â  <div class="header">
Â  Â  Â  Â  <div class="container" style="display: flex; justify-content: space-between; align-items: center;">
Â  Â  Â  Â  Â  Â  <h1 style="font-size: 28px; font-weight: 700; color: #333;">âš¡ ValenciaSport</h1>
Â  Â  Â  Â  Â  Â  <button onclick="toggleCarrito()" class="btn btn-primary" id="btnCarrito">
Â  Â  Â  Â  Â  Â  Â  Â  ğŸ›’ Carrito (<span id="cartCount">0</span>)
Â  Â  Â  Â  Â  Â  </button>
Â  Â  Â  Â  </div>
Â  Â  </div>

Â  Â  <div style="background: white; padding: 10px 0; margin-bottom: 20px; box-shadow: 0 1px 3px rgba(0,0,0,0.05);">
Â  Â  Â  Â  <div class="container" style="display: flex; justify-content: center; flex-wrap: wrap;" id="categoryNav">
Â  Â  Â  Â  Â  Â  <span class="category-nav-item active" onclick="setCategoriaActiva('Todos')">Todos</span>
Â  Â  Â  Â  Â  Â  </div>
Â  Â  </div>

Â  Â  <div class="container">
Â  Â  Â  Â  <div id="productos" class="product-grid"></div>
Â  Â  Â  Â  <div id="loading" style="text-align: center; padding: 60px;">
Â  Â  Â  Â  Â  Â  <p style="font-size: 48px;">â³</p>
Â  Â  Â  Â  Â  Â  <p style="font-size: 20px; margin-top: 16px;">Cargando productos...</p>
Â  Â  Â  Â  </div>
Â  Â  Â  Â  <div id="error" style="display: none; text-align: center; padding: 60px;">
Â  Â  Â  Â  Â  Â  <p style="font-size: 48px;">âŒ</p>
Â  Â  Â  Â  Â  Â  <p style="font-size: 20px; margin-top: 16px; color: #d32f2f;">Error de ConexiÃ³n o Carga</p>
Â  Â  Â  Â  Â  Â  <p style="margin-top: 8px; color: #666;">Revisa la consola (F12) para mÃ¡s detalles o verifica el nombre de la tabla.</p>
Â  Â  Â  Â  Â  Â  <button onclick="location.reload()" class="btn btn-primary" style="margin-top: 20px;">Reintentar</button>
Â  Â  Â  Â  </div>
Â  Â  </div>

Â  Â  <div class="cart" id="cart">
Â  Â  Â  Â  <div style="padding: 20px; border-bottom: 1px solid #ddd; display: flex; justify-content: space-between; align-items: center;">
Â  Â  Â  Â  Â  Â  <h2 style="font-size: 20px; font-weight: 700;">ğŸ›’ Tu Carrito</h2>
Â  Â  Â  Â  Â  Â  <button onclick="cerrarCarrito()" style="background: none; border: none; font-size: 24px; cursor: pointer;">âœ•</button>
Â  Â  Â  Â  </div>
Â  Â  Â  Â  <div id="cartItems" style="padding: 20px; overflow-y: auto; height: calc(100vh - 200px);"></div>
Â  Â  Â  Â  <div style="padding: 20px; border-top: 1px solid #ddd;">
Â  Â  Â  Â  Â  Â  <div style="display: flex; justify-content: space-between; margin-bottom: 16px; font-size: 18px; font-weight: 700;">
Â  Â  Â  Â  Â  Â  Â  Â  <span>Total:</span>
Â  Â  Â  Â  Â  Â  Â  Â  <span id="cartTotal">$0.00</span>
Â  Â  Â  Â  Â  Â  </div>
Â  Â  Â  Â  Â  Â  <button onclick="finalizarCompra()" class="btn btn-primary" style="width: 100%;">Finalizar Compra</button>
Â  Â  Â  Â  </div>
Â  Â  </div>

Â  Â  <script>
Â  Â  Â  Â  const SUPABASE_URL = 'https://wzbqrletyfybalxrhwuu.supabase.co';
Â  Â  Â  Â  const SUPABASE_ANON_KEY = 'eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6Ind6YnFybGV0eWZ5YmFseHJod3V1Iiwicm9sZSI6ImFub24iLCJpYXQiOjE3NjA2NTgzMjksImV4cCI6MjA3NjIzNDMyOX0.QudV22Ma8TzPaIRHVT2onElsJ3r39TLBnexOIFOv7BA';
Â  Â  Â  Â  
Â  Â  Â  Â  console.log('Iniciando app...');
Â  Â  Â  Â  
Â  Â  Â  Â  const supabaseClient = supabase.createClient(SUPABASE_URL, SUPABASE_ANON_KEY);
Â  Â  Â  Â  
Â  Â  Â  Â  let carrito = [];
Â  Â  Â  Â  let productos = [];
Â  Â  Â  Â  let categoriaActiva = 'Todos';

Â  Â  Â  Â  const IMAGE_URL_MAP = {
Â  Â  Â  Â  Â  Â  'zapatillas': 'https://i1.t4s.cz//products/BB6161/ultraboost-x-124296-bb6161-960.jpg',
Â  Â  Â  Â  Â  Â  'balon': 'https://fairplaybo.vtexassets.com/arquivos/ids/518277/je8770.jpg?v=638773943063370000',
Â  Â  Â  Â  Â  Â  'guantes': 'https://m.media-amazon.com/images/I/71eilZDrgWL._AC_SL1500_.jpg',
Â  Â  Â  Â  Â  Â  'mochila': 'https://images-cdn.ubuy.com.pl/68d694460431e115910722c3-nike-elite-pro-basketball-backpack-black.jpg',
Â  Â  Â  Â  Â  Â  'camiseta': 'https://acdn-us.mitiendanube.com/stores/144/702/products/remera-hombre-dry-fit-negra-reusch-gris-frente-7955656dbadd092ab817151959554041-1024-1024.jpg',
Â  Â  Â  Â  Â  Â  'short': 'https://freshapparelpty.com/cdn/shop/files/short-deportivo-reebok-logo-y-zipper-ajustados.png?v=1751321031',
Â  Â  Â  Â  Â  Â  'botines': 'https://newsport.vtexassets.com/arquivos/ids/20118342-800-auto?v=638779819379100000&width=800&height=auto&aspect=true',
Â  Â  Â  Â  Â  Â  'reloj': 'https://istarmax.com/wp-content/uploads/2022/01/s5-black-1024x1024.jpg',
Â  Â  Â  Â  };
Â  Â  Â  Â  
Â  Â  Â  Â  function getImageUrl(product) {
Â  Â  Â  Â  Â  Â  if (product.imagen && product.imagen.startsWith('http')) {
Â  Â  Â  Â  Â  Â  Â  Â  return product.imagen;
Â  Â  Â  Â  Â  Â  }
Â  Â  Â  Â  Â  Â  const clave = (product.categoria || product.nombre || '').toLowerCase().trim();
Â  Â  Â  Â  Â  Â  return IMAGE_URL_MAP[clave] || 'https://placehold.co/300x200?text=SIN+IMAGEN';
Â  Â  Â  Â  }

Â  Â  Â  Â  async function cargarProductos() {
Â  Â  Â  Â  Â  Â  try {
Â  Â  Â  Â  Â  Â  Â  Â  console.log('Conectando con Supabase...');
Â  Â  Â  Â  Â  Â  Â  Â  
Â  Â  Â  Â  Â  Â  Â  Â  const { data, error } = await supabaseClient
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  .from('productos')
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  .select('*');

Â  Â  Â  Â  Â  Â  Â  Â  console.log('Respuesta:', { data, error });

Â  Â  Â  Â  Â  Â  Â  Â  if (error) throw error;

Â  Â  Â  Â  Â  Â  Â  Â  if (!data || data.length === 0) {
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  throw new Error('No hay productos en la base de datos o RLS no permite leer.');
Â  Â  Â  Â  Â  Â  Â  Â  }

Â  Â  Â  Â  Â  Â  Â  Â  productos = data;
Â  Â  Â  Â  Â  Â  Â  Â  console.log('Productos cargados:', productos.length);
Â  Â  Â  Â  Â  Â  Â  Â  
Â  Â  Â  Â  Â  Â  Â  Â  generarMenuCategorias();
Â  Â  Â  Â  Â  Â  Â  Â  mostrarProductos();
Â  Â  Â  Â  Â  Â  Â  Â  
Â  Â  Â  Â  Â  Â  } catch (err) {
Â  Â  Â  Â  Â  Â  Â  Â  console.error('Error al cargar productos:', err);
Â  Â  Â  Â  Â  Â  Â  Â  document.getElementById('loading').style.display = 'none';
Â  Â  Â  Â  Â  Â  Â  Â  document.getElementById('error').style.display = 'block';
Â  Â  Â  Â  Â  Â  }
Â  Â  Â  Â  }
Â  Â  Â  Â  
Â  Â  Â  Â  function generarMenuCategorias() {
Â  Â  Â  Â  Â  Â  const categorias = [...new Set(productos.map(p => p.categoria))].filter(c => c && c.trim() !== '');
Â  Â  Â  Â  Â  Â  const nav = document.getElementById('categoryNav');
Â  Â  Â  Â  Â  Â  
Â  Â  Â  Â  Â  Â  categorias.forEach(cat => {
Â  Â  Â  Â  Â  Â  Â  Â  const item = document.createElement('span');
Â  Â  Â  Â  Â  Â  Â  Â  item.className = 'category-nav-item';
Â  Â  Â  Â  Â  Â  Â  Â  item.textContent = cat;
Â  Â  Â  Â  Â  Â  Â  Â  item.onclick = () => setCategoriaActiva(cat);
Â  Â  Â  Â  Â  Â  Â  Â  nav.appendChild(item);
Â  Â  Â  Â  Â  Â  });
Â  Â  Â  Â  }
Â  Â  Â  Â  
Â  Â  Â  Â  function setCategoriaActiva(nuevaCategoria) {
Â  Â  Â  Â  Â  Â  categoriaActiva = nuevaCategoria;
Â  Â  Â  Â  Â  Â  
Â  Â  Â  Â  Â  Â  document.querySelectorAll('#categoryNav .category-nav-item').forEach(item => {
Â  Â  Â  Â  Â  Â  Â  Â  item.classList.remove('active');
Â  Â  Â  Â  Â  Â  Â  Â  if (item.textContent === nuevaCategoria) {
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  item.classList.add('active');
Â  Â  Â  Â  Â  Â  Â  Â  }
Â  Â  Â  Â  Â  Â  });
Â  Â  Â  Â  Â  Â  
Â  Â  Â  Â  Â  Â  mostrarProductos();
Â  Â  Â  Â  }

Â  Â  Â  Â  function mostrarProductos() {
Â  Â  Â  Â  Â  Â  document.getElementById('loading').style.display = 'none';
Â  Â  Â  Â  Â  Â  const container = document.getElementById('productos');
Â  Â  Â  Â  Â  Â  
Â  Â  Â  Â  Â  Â  const productosFiltrados = categoriaActiva === 'Todos'
Â  Â  Â  Â  Â  Â  Â  Â  ? productos
Â  Â  Â  Â  Â  Â  Â  Â  : productos.filter(p => p.categoria === categoriaActiva);
Â  Â  Â  Â  Â  Â  Â  Â  
Â  Â  Â  Â  Â  Â  if (productosFiltrados.length === 0) {
Â  Â  Â  Â  Â  Â  Â  Â  container.innerHTML = '<div style="grid-column: 1 / -1; text-align: center; padding: 40px;"><p style="font-size: 24px;">No hay productos disponibles en esta categorÃ­a.</p></div>';
Â  Â  Â  Â  Â  Â  Â  Â  return;
Â  Â  Â  Â  Â  Â  }
Â  Â  Â  Â  Â  Â  
Â  Â  Â  Â  Â  Â  container.innerHTML = productosFiltrados.map(p => {
Â  Â  Â  Â  Â  Â  Â  Â  const imageUrl = getImageUrl(p);
Â  Â  Â  Â  Â  Â  Â  Â  
Â  Â  Â  Â  Â  Â  Â  Â  // Sanitizar el objeto JSON para pasar en el onclick
Â  Â  Â  Â  Â  Â  Â  Â  const productJsonString = JSON.stringify(p).replace(/'/g, "\\'");
Â  Â  Â  Â  Â  Â  Â  Â  
Â  Â  Â  Â  Â  Â  Â  Â  return `
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  <div class="product-card">
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  <img src="${imageUrl}" alt="${p.nombre}" onerror="this.src='https://placehold.co/300x200/cccccc/333333?text=Sin+Imagen'">
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  <div style="margin-top: 12px;">
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  <div style="background: #ff5722; color: white; display: inline-block; padding: 4px 8px; border-radius: 4px; font-size: 11px; margin-bottom: 8px;">${p.categoria}</div>
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  <h3 style="font-size: 16px; font-weight: 600; margin-bottom: 8px;">${p.nombre}</h3>
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  <p style="font-size: 13px; color: #666; margin-bottom: 8px; height: 40px; overflow: hidden;">${p.descripcion || 'Sin descripciÃ³n disponible.'}</p>
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  <div style="color: #ffa500; font-size: 14px; margin-bottom: 8px;">â­ ${p.rating || 'N/A'} (${p.ventas || 0} vendidos)</div>
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  <div style="display: flex; justify-content: space-between; align-items: center;">
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  <span style="font-size: 24px; font-weight: 700; color: #ff5722;">$${parseFloat(p.precio || 0).toFixed(2)}</span>
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  <button onclick='agregarAlCarrito(${productJsonString})' class="btn btn-primary">AÃ±adir</button>
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  </div>
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  <div style="margin-top: 8px; font-size: 12px; color: ${p.stock < 30 ? '#d32f2f' : '#4caf50'};">Stock: ${p.stock || 0}</div>
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  </div>
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  </div>
Â  Â  Â  Â  Â  Â  Â  Â  `;
Â  Â  Â  Â  Â  Â  }).join('');
Â  Â  Â  Â  }

Â  Â  Â  Â  function agregarAlCarrito(producto) {
Â  Â  Â  Â  Â  Â  console.log('Agregando:', producto);
Â  Â  Â  Â  Â  Â  const existe = carrito.find(item => item.id === producto.id);
Â  Â  Â  Â  Â  Â  
Â  Â  Â  Â  Â  Â  if (existe) {
Â  Â  Â  Â  Â  Â  Â  Â  existe.cantidad++;
Â  Â  Â  Â  Â  Â  } else {
Â  Â  Â  Â  Â  Â  Â  Â  carrito.push({ ...producto, cantidad: 1 });
Â  Â  Â  Â  Â  Â  }
Â  Â  Â  Â  Â  Â  
Â  Â  Â  Â  Â  Â  actualizarCarrito();
Â  Â  Â  Â  Â  Â  
Â  Â  Â  Â  Â  Â  const btn = event.target;
Â  Â  Â  Â  Â  Â  btn.textContent = 'âœ“ Agregado';
Â  Â  Â  Â  Â  Â  setTimeout(() => btn.textContent = 'AÃ±adir', 1000);
Â  Â  Â  Â  }

Â  Â  Â  Â  function actualizarCarrito() {
Â  Â  Â  Â  Â  Â  const count = carrito.reduce((sum, item) => sum + item.cantidad, 0);
Â  Â  Â  Â  Â  Â  const total = carrito.reduce((sum, item) => sum + (item.precio * item.cantidad), 0);
Â  Â  Â  Â  Â  Â  
Â  Â  Â  Â  Â  Â  document.getElementById('cartCount').textContent = count;
Â  Â  Â  Â  Â  Â  document.getElementById('cartTotal').textContent = '$' + total.toFixed(2);
Â  Â  Â  Â  Â  Â  
Â  Â  Â  Â  Â  Â  const container = document.getElementById('cartItems');
Â  Â  Â  Â  Â  Â  
Â  Â  Â  Â  Â  Â  if (carrito.length === 0) {
Â  Â  Â  Â  Â  Â  Â  Â  container.innerHTML = '<div style="text-align: center; padding: 40px; color: #999;"><p style="font-size: 48px;">ğŸ›’</p><p style="margin-top: 16px;">Carrito vacÃ­o</p></div>';
Â  Â  Â  Â  Â  Â  } else {
Â  Â  Â  Â  Â  Â  Â  Â  container.innerHTML = carrito.map(item => `
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  <div style="display: flex; gap: 12px; margin-bottom: 16px; padding: 12px; background: #f5f5f5; border-radius: 8px;">
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  <img src="${getImageUrl(item)}" style="width: 60px; height: 60px; object-fit: cover; border-radius: 4px;">
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  <div style="flex: 1;">
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  <div style="font-weight: 600; margin-bottom: 4px;">${item.nombre}</div>
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  <div style="color: #ff5722; font-weight: 700;">$${parseFloat(item.precio).toFixed(2)}</div>
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  <div style="display: flex; gap: 8px; align-items: center; margin-top: 8px;">
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  <button onclick="cambiarCantidad(${item.id}, -1)" class="btn" style="padding: 4px 12px; background: #ddd;">âˆ’</button>
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  <span style="font-weight: 600;">${item.cantidad}</span>
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  <button onclick="cambiarCantidad(${item.id}, 1)" class="btn" style="padding: 4px 12px; background: #ddd;">+</button>
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  </div>
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  </div>
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  <button onclick="eliminarDelCarrito(${item.id})" style="background: none; border: none; color: #d32f2f; cursor: pointer; font-size: 20px;">ğŸ—‘ï¸</button>
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  </div>
Â  Â  Â  Â  Â  Â  Â  Â  `).join('');
Â  Â  Â  Â  Â  Â  }
Â  Â  Â  Â  }

Â  Â  Â  Â  function cambiarCantidad(id, cambio) {
Â  Â  Â  Â  Â  Â  const item = carrito.find(i => i.id === id);
Â  Â  Â  Â  Â  Â  if (item) {
Â  Â  Â  Â  Â  Â  Â  Â  item.cantidad += cambio;
Â  Â  Â  Â  Â  Â  Â  Â  if (item.cantidad <= 0) {
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  eliminarDelCarrito(id);
Â  Â  Â  Â  Â  Â  Â  Â  } else {
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  actualizarCarrito();
Â  Â  Â  Â  Â  Â  Â  Â  }
Â  Â  Â  Â  Â  Â  }
Â  Â  Â  Â  }

Â  Â  Â  Â  function eliminarDelCarrito(id) {
Â  Â  Â  Â  Â  Â  carrito = carrito.filter(item => item.id !== id);
Â  Â  Â  Â  Â  Â  actualizarCarrito();
Â  Â  Â  Â  }

Â  Â  Â  Â  function toggleCarrito() {
Â  Â  Â  Â  Â  Â  document.getElementById('cart').classList.toggle('open');
Â  Â  Â  Â  Â  Â  document.getElementById('overlay').classList.toggle('show');
Â  Â  Â  Â  }

Â  Â  Â  Â  function cerrarCarrito() {
Â  Â  Â  Â  Â  Â  document.getElementById('cart').classList.remove('open');
Â  Â  Â  Â  Â  Â  document.getElementById('overlay').classList.remove('show');
Â  Â  Â  Â  }

Â  Â  Â  Â  function finalizarCompra() {
Â  Â  Â  Â  Â  Â  if (carrito.length === 0) {
Â  Â  Â  Â  Â  Â  Â  Â  alert('El carrito estÃ¡ vacÃ­o');
Â  Â  Â  Â  Â  Â  Â  Â  return;
Â  Â  Â  Â  Â  Â  }
Â  Â  Â  Â  Â  Â  
Â  Â  Â  Â  Â  Â  const total = carrito.reduce((sum, item) => sum + (item.precio * item.cantidad), 0);
Â  Â  Â  Â  Â  Â  alert(`Â¡Compra exitosa! ğŸ‰\nTotal: $${total.toFixed(2)}\n\nGracias por tu compra en ValenciaSport`);
Â  Â  Â  Â  Â  Â  
Â  Â  Â  Â  Â  Â  carrito = [];
Â  Â  Â  Â  Â  Â  actualizarCarrito();
Â  Â  Â  Â  Â  Â  cerrarCarrito();
Â  Â  Â  Â  }

Â  Â  Â  Â  cargarProductos();
Â  Â  </script>
</body>
</html>
